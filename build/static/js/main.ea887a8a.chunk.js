(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{14:function(t,e,a){},16:function(t,e,a){},18:function(t,e,a){"use strict";a.r(e);var n=a(1),r=a.n(n),c=a(9),s=a.n(c),i=(a(14),a(2)),u=a.n(i),l=a(7),o=a(3),h=a(4),p=a(6),d=a(5),j=(a(16),"e93da1268f6107847e8e343567ca21a2"),m="OqA15IgvA2dJfjZ91Ivs-MoPn9LwvH7Op3EUU1tBflo";function f(t){return v.apply(this,arguments)}function v(){return(v=Object(l.a)(u.a.mark((function t(e){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&appid=").concat(j)).then((function(t){return t.json()}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function b(t,e){return O.apply(this,arguments)}function O(){return(O=Object(l.a)(u.a.mark((function t(e,a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.unsplash.com/search/photos?page=1&query=".concat(e,"-").concat(a,"&client_id=").concat(m)).then((function(t){return t.json()}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function x(t){var e="\u0441\u0432\u0435\u0442\u043b\u0430\u044f"===t.target.textContent?"\u0442\u0435\u043c\u043d\u0430\u044f":"\u0441\u0432\u0435\u0442\u043b\u0430\u044f";t.target.textContent=e,document.querySelector("body").classList.toggle("dark-theme")}function y(t){var e="\u043f\u043b\u0438\u0442\u043a\u0443"===t.target.textContent?"\u0441\u043f\u0438\u0441\u043e\u043a":"\u043f\u043b\u0438\u0442\u043a\u0443";t.target.textContent=e,document.querySelector(".images-city").classList.toggle("two-columns")}var g=a(0),C=function(t){Object(p.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(o.a)(this,a),(n=e.call(this,t)).state={valueCity:t.valueCity},n}return Object(h.a)(a,[{key:"shouldComponentUpdate",value:function(t){return t.valueCity.name!==this.state.valueCity.name&&(this.setState({valueCity:t.valueCity}),!0)}},{key:"render",value:function(){return Object(g.jsxs)("div",{className:"weather",children:[Object(g.jsx)("div",{children:this.state.valueCity.name}),Object(g.jsx)("div",{children:Object(g.jsx)("img",{src:"http://openweathermap.org/img/w/".concat(this.state.valueCity.weather[0].icon,".png"),alt:""})}),Object(g.jsxs)("div",{children:[(t=this.state.valueCity.main.temp,Math.floor(t-273.15))," ","\u2103"]})]});var t}}]),a}(r.a.Component),w=function(t){Object(p.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(o.a)(this,a),(n=e.call(this,t)).state={pictures:t.pictures},n}return Object(h.a)(a,[{key:"shouldComponentUpdate",value:function(t){return t.pictures[0].id!==this.state.pictures[0].id&&(this.setState({pictures:t.pictures}),!0)}},{key:"render",value:function(){return Object(g.jsx)("div",{className:"images-city",children:this.state.pictures.map((function(t){return Object(g.jsx)("div",{className:"image",children:Object(g.jsx)("img",{src:t.urls.small,alt:""})},t.id)}))})}}]),a}(r.a.Component),k=function(t){Object(p.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(o.a)(this,a),(n=e.call(this,t)).watchWeather=Object(l.a)(u.a.mark((function t(){var e,a,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=document.querySelector("#input-city").value){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,f(e);case 5:if(404!=(a=t.sent).cod){t.next=8;break}return t.abrupt("return");case 8:return t.next=10,b(a.name,a.weather[0].main);case 10:r=t.sent,n.setState({pictures:r.results,requestPictures:r.results,valueCity:a});case 12:case"end":return t.stop()}}),t)}))),n.filterImages=function(t){var e=t.target,a=e.dataset.filter;a&&(document.querySelector(".choice").classList.remove("choice"),e.classList.add("choice"),n.setState({pictures:n.state.requestPictures.filter((function(t){return"width"===a?t.width>t.height:"height"!==a||t.width<t.height}))}))},n.state={valueCity:null,pictures:null,requestPictures:null},n}return Object(h.a)(a,[{key:"render",value:function(){return Object(g.jsxs)("div",{className:"App",children:[Object(g.jsxs)("div",{className:"change-theme",children:["\u0421\u043c\u0435\u043d\u0438\u0442\u044c \u0442\u0435\u043c\u0443: ",Object(g.jsx)("span",{onClick:x,children:"\u0442\u0435\u043c\u043d\u0430\u044f"})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("input",{type:"text",name:"user_name",id:"input-city"}),Object(g.jsx)("button",{onClick:this.watchWeather,children:"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043f\u043e\u0433\u043e\u0434\u0443"})]}),!!this.state.valueCity&&Object(g.jsx)(C,{valueCity:this.state.valueCity}),!!this.state.pictures&&Object(g.jsxs)("div",{className:"images-block",children:[Object(g.jsxs)("div",{className:"filter-group",children:[Object(g.jsxs)("div",{className:"filter",onClick:this.filterImages,children:["\u0424\u0438\u043b\u044c\u0442\u0440 \u043f\u043e \u0444\u043e\u0442\u043e:\xa0",Object(g.jsx)("span",{className:"choice","data-filter":"all",children:"\u0412\u0441\u0435\xa0"}),Object(g.jsx)("span",{"data-filter":"width",children:"\u0413\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u044c\u043d\u044b\u0435\xa0"}),Object(g.jsx)("span",{"data-filter":"height",children:"\u0412\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0435"})]}),Object(g.jsxs)("div",{className:"filter",onClick:y,children:["\u041f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0434\u0438\u0437\u0430\u0439\u043d \u043d\u0430: ",Object(g.jsx)("span",{children:"\u0441\u043f\u0438\u0441\u043e\u043a"})]})]}),Object(g.jsx)(w,{pictures:this.state.pictures})]})]})}}]),a}(r.a.Component);s.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(k,{})}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.ea887a8a.chunk.js.map